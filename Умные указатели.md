## Что это?
Специальные типы указателей, которые помогат избежать кучи проблем при работе с обычными указателями.

---

## Каков принцип работы?
#todo
Как вы должны знать, все переменные имеют время жизни, которое отделяется блоками:

```cpp
int main()
{
	int a = 10;
	{
		int b = 12;
	} // переменная b удаляется здесь
	
	int c = a + b // Ошибка: b уже удалена
	 
} // переменная a удаляется здесь
```

Увы, такие вещи перестают работать, когда мы начинаем пользоваться динамической памятью:

```cpp
int main()
{
	int* a = new int(10);
	{
		int* b = new int(12);
	} // переменная b удалена, но память не была освобождена

	delete a; // удаляем память из a
	*a += 10; // Ошибка: использование пустого указателя
} // перемнная a удаляется здесь
```
Как сделать так, чтобы можно было работать с динамической памятью как и с обычными переменными? Просто сделайте класс-обертку над динамической памятью:

```cpp
#include <iostream>

template<class T>
class SmartPtr
{
private:
	// Обычный указатель
	T* raw_ptr;
public:
	// Выделяем при конструкции новую память
	SmartPtr(T data)
	{
		std::cout << "Память выделена" << std::endl;
		raw_ptr = new T(data);
	}
	// Очищаем память
	void clear()
	{
		delete raw_ptr;
	}
	// Переопределяем оператор разыменования
	T& operator*()
	{
		return *raw_ptr;
	}
	// При удалении переменной очищаем память
	~SmartPtr()
	{
		std::cout << "Память освобождена" << std::endl;
		clear();
	}
};

int main()
{
	auto ptr = SmartPtr<int>(10);
	*ptr += 20;
	std::cout << *ptr << std::endl;
}
```
В этом классе 

---

## Какие проблемы решают?
Самой частой проблемой при написании программ на C++ является [[Утечки памяти|утечка памяти]]. Думать, что программа работает корректно, а потом получать внезапный вылет из-за отсутствия свободной оперативной памяти - плохая практика как для продуктивности, так и для вашей психики.

Второй главной проблемой является [[Nullptr dereference|разыменовывание нулевого указателя]] - самая противная из проблем. Программы с такой ошибкой могут без проблем работать неограниченное количество времени без каких-либо симптомов, но внезапно она вылетит и даже дебаггер вам не поможет отыскать то место, в котором ошибка произошла.

---

## Какие бывают умные указатели?
Существует три вида умных указателей:
- [[Уникальный указатель]]
- [[Коллективный указатель]]
- [[Слабый указатель]]

---

## Когда применять?
С этого момента - всегда. Больше никогда не используйте обычные указатели, если не хотите рвать волосы от внезапных вылетов программы для вашей курсовой работы. **Чем меньше будет обычных указателей, тем меньше потенциальных нерешаемых багов.**